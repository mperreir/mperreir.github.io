<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="keywords" content="remark,remarkjs,markdown,slideshow,presentation" />
  <meta name="description" content="A simple, in-browser, markdown-driven slideshow tool." />
  <title>Tech 2 - Web</title>
  <link href="css/pure-min.css" rel="stylesheet" type="text/css">
  <link href="css/abs-layout.css" rel="stylesheet" type="text/css">
  <link href="css/remark.css" rel="stylesheet" type="text/css">
  <link href="css/animate.min.css" media="screen" rel="stylesheet" type="text/css">
</head>

<body>

  <script src="js/remark-latest.min.js" type="text/javascript"></script>
  <script type="text/javascript">
    var slideshow = remark.create({
      sourceUrl: 'dom.txt',
      slideNumberFormat: function (current, total) {
        return '<div id="progressTotal"><div id="progressCurrent" style="width:' + Math.round(100 * current / total) + '%"></div></div><div id="slideNumber">' + current + '</div>';
      },
    });
    let initJS = true;
    slideshow.on('afterShowSlide', function (slide) {
      // pour le slide sur les évenements...
      if( initJS){ // nécessaire pour que le contenu HTML soit déjà rendu
        console.log(initJS);
        initJS = false;
        let form = document.querySelector('#ex-bubble form');
        form.addEventListener('click', (event) => {
          event.target.style.backgroundColor = 'yellow';
          let currentTarget = event.currentTarget
          console.log(event);
          setTimeout(() => {
            alert("target = " + event.target.tagName + ", currentTarget=" + currentTarget.tagName);
            event.target.style.backgroundColor = ''
          }, 0);
        });
      }
    });
  </script>
</body>

</html>